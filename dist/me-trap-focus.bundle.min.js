!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.meTrapFocus=t()}(this,function(){var e,t,n;return function(r){function o(e,t){return x.call(e,t)}function i(e,t){var n,r,o,i,a,u,f,l,s,c,p,m,d=t&&t.split("/"),v=g.map,h=v&&v["*"]||{};if(e){for(e=e.split("/"),a=e.length-1,g.nodeIdCompat&&A.test(e[a])&&(e[a]=e[a].replace(A,"")),"."===e[0].charAt(0)&&d&&(m=d.slice(0,d.length-1),e=m.concat(e)),s=0;s<e.length;s++)if(p=e[s],"."===p)e.splice(s,1),s-=1;else if(".."===p){if(0===s||1===s&&".."===e[2]||".."===e[s-1])continue;s>0&&(e.splice(s-1,2),s-=2)}e=e.join("/")}if((d||h)&&v){for(n=e.split("/"),s=n.length;s>0;s-=1){if(r=n.slice(0,s).join("/"),d)for(c=d.length;c>0;c-=1)if(o=v[d.slice(0,c).join("/")],o&&(o=o[r])){i=o,u=s;break}if(i)break;!f&&h&&h[r]&&(f=h[r],l=s)}!i&&f&&(i=f,u=l),i&&(n.splice(0,u,i),e=n.join("/"))}return e}function a(e,t){return function(){var n=T.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),m.apply(r,n.concat([e,t]))}}function u(e){return function(t){return i(t,e)}}function f(e){return function(t){h[e]=t}}function l(e){if(o(b,e)){var t=b[e];delete b[e],y[e]=!0,p.apply(r,t)}if(!o(h,e)&&!o(y,e))throw new Error("No "+e);return h[e]}function s(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function c(e){return function(){return g&&g.config&&g.config[e]||{}}}var p,m,d,v,h={},b={},g={},y={},x=Object.prototype.hasOwnProperty,T=[].slice,A=/\.js$/;d=function(e,t){var n,r=s(e),o=r[0];return e=r[1],o&&(o=i(o,t),n=l(o)),o?e=n&&n.normalize?n.normalize(e,u(t)):i(e,t):(e=i(e,t),r=s(e),o=r[0],e=r[1],o&&(n=l(o))),{f:o?o+"!"+e:e,n:e,pr:o,p:n}},v={require:function(e){return a(e)},exports:function(e){var t=h[e];return"undefined"!=typeof t?t:h[e]={}},module:function(e){return{id:e,uri:"",exports:h[e],config:c(e)}}},p=function(e,t,n,i){var u,s,c,p,m,g,x=[],T=typeof n;if(i=i||e,"undefined"===T||"function"===T){for(t=!t.length&&n.length?["require","exports","module"]:t,m=0;m<t.length;m+=1)if(p=d(t[m],i),s=p.f,"require"===s)x[m]=v.require(e);else if("exports"===s)x[m]=v.exports(e),g=!0;else if("module"===s)u=x[m]=v.module(e);else if(o(h,s)||o(b,s)||o(y,s))x[m]=l(s);else{if(!p.p)throw new Error(e+" missing "+s);p.p.load(p.n,a(i,!0),f(s),{}),x[m]=h[s]}c=n?n.apply(h[e],x):void 0,e&&(u&&u.exports!==r&&u.exports!==h[e]?h[e]=u.exports:c===r&&g||(h[e]=c))}else e&&(h[e]=n)},e=t=m=function(e,t,n,o,i){if("string"==typeof e)return v[e]?v[e](t):l(d(e,t).f);if(!e.splice){if(g=e,g.deps&&m(g.deps,g.callback),!t)return;t.splice?(e=t,t=n,n=null):e=r}return t=t||function(){},"function"==typeof n&&(n=o,o=i),o?p(r,e,t,n):setTimeout(function(){p(r,e,t,n)},4),m},m.config=function(e){return m(e)},e._defined=h,n=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),o(h,e)||o(b,e)||(b[e]=[e,t,n])},n.amd={jQuery:!0}}(),n("almond",function(){}),function(e,t){"function"==typeof n&&n.amd?n("meTools.fn.variable",[],t):"object"==typeof exports?"object"==typeof module?module.exports=t():exports["meTools.fn.variable"]=t():(e.meTools=e.meTools||{},e.meTools.fn=e.meTools.fn||{},e.meTools.fn.variable=t())}(this,function(){function e(t,n){n="undefined"==typeof n||n;var r,o;if(Array.isArray(t)){r=[];for(var i in t)o=t[i],r.push(n&&"object"==typeof o?e(o):o)}else if(t&&"object"==typeof t&&"undefined"==typeof t.tagName&&t!==window&&t!==document){r={};for(var a in t)o=t[a],r[a]=n&&"object"==typeof o?e(o):o}else r=t;return r}function t(n,r){n=n||{},r=r||{};var o={};for(var i in n){var a=n[i];if(r.hasOwnProperty(i)){var u=r[i];Array.isArray(u)||"object"!=typeof u||"object"!=typeof a?o[i]=e(u):o[i]=t(a,u)}else o[i]=e(a)}for(var f in r)o.hasOwnProperty(f)||(o[f]=e(r[f]));return o}function n(e){for(var t in e)return!1;return!0}return{copyValues:e,mergeObjects:t,isEmptyObject:n}}),function(e,t){"function"==typeof n&&n.amd?n("meTools.fn.element",[],t):"object"==typeof exports?"object"==typeof module?module.exports=t():exports["meTools.fn.element"]=t():(e.meTools=e.meTools||{},e.meTools.fn=e.meTools.fn||{},e.meTools.fn.element=t())}(this,function(){function e(e){return"object"==typeof e&&"undefined"!=typeof e.tagName?e:"string"==typeof e?document.getElementById(e):null}function t(e,t){var n=e.getAttribute("id");if(!n){t=t||"id-";do{var r=new Date;n=t+Math.ceil(r.valueOf()%1e4*Math.random())}while(document.getElementById(n));e.setAttribute("id",n)}return n}function n(e,t,n,r){for(var o=!1,i=!1,a=!1,u=1;u<arguments.length;u++)switch(typeof arguments[u]){case"string":o=arguments[u];break;case"object":i=arguments[u];break;case"boolean":a=arguments[u]}t=o,n=i||document.body,r=a;var f=[],l=function(e){var o=e.parentElement;if(!t||o.matches(t)){if(r)return o;f.push(o)}return o===n?r?!1:f:l(o)};return l(e)}function r(e,t){for(var n=t.parentNode;null!==n;){if(n===e)return!0;n=n.parentNode}return!1}function o(e,t,n){n=Array.isArray(n)?n:[n];for(var r=e.getAttribute(t),o=r?r.split(" "):[],i=0;i<n.length;i++){var a=n[i];-1===o.indexOf(a)&&o.push(a)}e.setAttribute(t,o.join(" "))}function i(e,t,n,r){var o=e.getAttribute(t);if(o){var i="((^| )",a="(?= |$))";o=o.replace(new RegExp(Array.isArray(n)?i+n.join(a+"|"+i)+a:i+n+a,"g"),""),r||o?e.setAttribute(t,o):e.removeAttribute(t)}}function a(e,t,n){var r=e.getAttribute(t);if(r){var o="((^| )",i="(?= |$))";return!!r.match(new RegExp(o+n+i,"g"))}return!1}function u(e){var t=n(e,"form",!0)||document,r=e.getAttribute("name");return[].slice.call(t.querySelectorAll('input[type="radio"][name="'+r+'"]'))}function f(e,t){return t=t||'a,frame,iframe,input:not([type=hidden]),select,textarea,button,*[tabindex]:not([tabindex="-1"])',l(e.querySelectorAll(t))}function l(e){for(var t=[],n=[],r=0;r<e.length;r++){var o=e[r],i=Math.max(0,o.getAttribute("tabindex")||0);t[i]=t[i]||[],t[i].push(o)}for(var a in t)for(var u in t[a])n.push(t[a][u]);return n}function s(e,t){function n(e){if(e.matches(":not([disabled])")&&(e.offsetWidth||e.offsetHeight)){if(!e.matches('input[type="radio"]'))return e;if(-1===o.indexOf(e)){var n=u(e),r=null;o=o.concat(n);for(var i=0;i<n.length;i++){var a=n[i];if(a.checked){r=a;break}}return r||(r=-1===t?n[n.length-1]:n[0]),r}return!1}}t="undefined"==typeof t?1:t;var r=[],o=[];if(1===t)for(var i=0;i<e.length;i++){var a=n(e[i]);a&&r.push(a)}else for(var f=e.length-1;f>=0;f--){var l=n(e[f]);l&&r.push(l)}return r}function c(e,t){var n=null,r=s(f(e));if("function"==typeof t&&(n=t(e,r)),!n&&r.length&&(n=r[0]),!n){var o=e.getAttribute("tabindex");o||e.setAttribute("tabindex","-1"),n=e}n.focus()}return{getElementById:e,getId:t,getAncestors:n,isParent:r,addAttributeValues:o,removeAttributeValues:i,hasAttributeValue:a,fetchFocusables:f,orderByTabindex:l,getFocusables:s,focusInside:c}}),function(e,r){if("function"==typeof n&&n.amd)n("meTools.fn.event",["meTools.fn.variable"],r);else if("object"==typeof exports){var o=t("./variable");"object"==typeof module?module.exports=r(o):exports["meTools.fn.event"]=r(o)}else e.meTools=e.meTools||{},e.meTools.fn=e.meTools.fn||{},e.meTools.fn.event=r(e.meTools.fn.variable)}(this,function(e){function t(e,t,n,r,o){o=o||!1;var i=e.registeredEvents=e.registeredEvents||{},a=i[n]=i[n]||[],u=!1;for(var f in a){var l=a[f];if(l.tg===t){u=l;break}}u||(u={tg:t,fns:[]},a.push(u)),u.fns.push([r,o]),t.addEventListener(n,r,o)}function n(t,r,o,i,a){if(t.registeredEvents){var u=t.registeredEvents;if(o){if(u.hasOwnProperty(o)){var f=u[o];if(r){var l,s=!1;for(var c in f)if(l=f[c],l.tg===r){s=l.fns;break}if(s){for(var p=0;p<s.length;p++){var m=s[p];"undefined"!=typeof i&&i&&i!==m[0]||"undefined"!=typeof a&&a!==m[1]||(s.splice(p,1),r.removeEventListener(o,m[0],m[1]),p--)}s.length||f.splice(c,1),f.length||delete u[o]}}else for(var d=e.copyValues(f);d.length;){var v=d.shift();n(t,v.tg,o,i,a)}}}else for(o in u)n(t,r,o,i,a)}}function r(e,t,n,r){t=t||250,n="undefined"==typeof n?!0:n,r=r||this;var o,i=null;return function(){var a=+new Date,u=arguments;o&&o+t>a?n&&(clearTimeout(i),i=setTimeout(function(){o=a,e.apply(r,u)},t)):(o=a,clearTimeout(i),e.apply(r,u))}}function o(e,t,n,r){t=t||250,r=r||this;var o,i=null;return function(){var a=+new Date,u=arguments;n?(!o||a>o+t)&&e.apply(r,u):(clearTimeout(i),i=setTimeout(function(){e.apply(r,u)},t)),o=a}}return{registerEvent:t,unregisterEvent:n,throttle:r,debounce:o}}),function(e,r){if("function"==typeof n&&n.amd)n("me-tools",["meTools.fn.variable","meTools.fn.element","meTools.fn.event"],r);else if("object"==typeof exports){var o=t("./fn/variable"),i=t("./fn/element"),a=t("./fn/event");"object"==typeof module?module.exports=r(o,i,a):exports.meTools=r(o,i,a)}else{var u=e.meTools;e.meTools=r(u.fn.variable,u.fn.element,u.fn.event);for(var f in u)e.meTools[f]=u[f]}}(this,function(e,t,n){var r={};for(var o in arguments)for(var i in arguments[o])r[i]=arguments[o][i];return r}),function(e,t){"function"==typeof n&&n.amd?n("meTrapFocus",["me-tools"],t):"object"==typeof exports?module.exports=t(meTools):e.meTrapFocus=t(meTools)}(this,function(e){function t(t,o){var a=this,u=t&&e.getElementById(t);if(!u)throw new Error("meTrapFocus: Container element not found");n.call(a).options=e.mergeObjects(p,o),a.container=u,u.hasAttribute("tabindex")||(t.setAttribute("data-tabindexed","true"),u.setAttribute("tabindex","-1")),e.registerEvent(a,u,"keydown",function(e){r.call(a,e)}),i.call(a)}function n(){var e=this;return e.options={},e.container=null,e.focusables=[],e}function r(e){if(!e.ctrlKey&&!e.altKey){var t=e.keyCode?e.keyCode:e.which;if(t==c){var n,r=this,o=r.options.taboutIndicator,i=r.focusables;e.shiftKey?(n=u.call(r,-1),(n[n[0].matches(o)?1:0]===e.target||i.indexOf(e.target)<i.indexOf(n[0])||e.target===r.container)&&(l.call(r,n),e.preventDefault())):(n=u.call(r,1),(n[n.length-(n[n.length-1].matches(o)?2:1)]===e.target||i.indexOf(e.target)>i.indexOf(n[n.length-1]))&&(f.call(r,n),e.preventDefault()))}}}function o(t){var n=e.getAncestors(t,"form",!0)||document,r=t.getAttribute("name");return[].slice.call(n.querySelectorAll('input[type="radio"][name="'+r+'"]'))}function i(){var t=this,n=t.options,r=function(e){s.call(t,e)};t.focusables=a(t.container.querySelectorAll(n.focusableSelector));for(var o=0;o<t.focusables.length;o++){var i=t.focusables[o];i.matches(n.taboutIndicator)&&(e.unregisterEvent(t,i,"focus"),e.registerEvent(t,i,"focus",r))}return t}function a(e){for(var t=[],n=[],r=0;r<e.length;r++){var o=e[r],i=Math.max(0,o.getAttribute("tabindex")||0);t[i]=t[i]||[],t[i].push(o)}for(var a in t)for(var u in t[a])n.push(t[a][u]);return n}function u(e){e="undefined"==typeof e?1:e;for(var t=this,n=t.focusables,r=[],i=[],a=0;a<n.length;a++){var u=n[a],f=null;u.getAttribute("tabindex")||0;if(u.matches(":not([disabled])")&&u.matches(':not([tabindex="-1"])')&&(u.offsetWidth||u.offsetHeight))if(u.matches('input[type="radio"]')){if(-1===i.indexOf(u)){var l=o.call(t,u),s=null;i=i.concat(l);for(var c=0;c<l.length;c++){var p=l[c];if(p.checked){s=p;break}}s||(s=-1===e?l[l.length-1]:l[0]),f=s}}else f=u;f&&r.push(f)}return r}function f(e){var t=this,n=t.options.taboutIndicator,r=e[0];r.matches(n)&&(r=e[1]),r.matches("iframe")?setTimeout(function(){r.contentWindow.focus()},100):r.focus()}function l(e){var t=this,n=t.options.taboutIndicator,r=e[e.length-1];r.matches(n)&&(r=e[e.length-2]),r.matches("iframe")?setTimeout(function(){r.contentWindow.focus()},100):r.focus()}function s(e){var t=this,n=e.target,r=u.call(t,1),o=u.call(t,-1);n==o[0]?l.call(t,o):n==r[r.length-1]&&f.call(t,r)}var c=9,p={focusableSelector:"a,frame,iframe,input:not([type=hidden]),select,textarea,button,*[tabindex]",taboutIndicator:".me-tabout"};return t.prototype.update=function(){return i.call(this)},t.prototype.getFocusables=function(){return e.copyValues(this.focusables,!1)},t.prototype.getTabable=function(t){return e.copyValues(t?u.call(this,-1):u.call(this,1),!1)},t.prototype.destroy=function(){var t=this,r=t.container;return r.getAttribute("data-tabindexed")&&(r.removeAttribute("data-tabindexed"),r.removeAttribute("tabindex")),e.unregisterEvent(t),n.call(t),null},t}),function(e){e.matches=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector||function(e){var t=this,n=[].slice.call(document.querySelectorAll(e));return-1!==n.indexOf(t)}}(Element.prototype),n("matchesPolyfill",function(e){return function(){var t;return t||e.matchesPolyfill}}(this)),t("meTrapFocus")});
//# sourceMappingURL=me-trap-focus.bundle.min.js.map
/**
 * @license me-trap-focus 3.0.1 Copyright (c) Mandana Eibegger <scripts@schoener.at>
 * Available via the MIT license.
 * see: https://github.com/meibegger/me-trap-focus for details
 */
