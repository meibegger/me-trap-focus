!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.meTrapFocus=t()}(this,function(){var e,t,n;return function(o){function r(e,t){return T.call(e,t)}function i(e,t){var n,o,r,i,a,f,u,l,s,c,p,m,d=t&&t.split("/"),v=y.map,h=v&&v["*"]||{};if(e){for(e=e.split("/"),a=e.length-1,y.nodeIdCompat&&j.test(e[a])&&(e[a]=e[a].replace(j,"")),"."===e[0].charAt(0)&&d&&(m=d.slice(0,d.length-1),e=m.concat(e)),s=0;s<e.length;s++)if(p=e[s],"."===p)e.splice(s,1),s-=1;else if(".."===p){if(0===s||1===s&&".."===e[2]||".."===e[s-1])continue;s>0&&(e.splice(s-1,2),s-=2)}e=e.join("/")}if((d||h)&&v){for(n=e.split("/"),s=n.length;s>0;s-=1){if(o=n.slice(0,s).join("/"),d)for(c=d.length;c>0;c-=1)if(r=v[d.slice(0,c).join("/")],r&&(r=r[o])){i=r,f=s;break}if(i)break;!u&&h&&h[o]&&(u=h[o],l=s)}!i&&u&&(i=u,f=l),i&&(n.splice(0,f,i),e=n.join("/"))}return e}function a(e,t){return function(){var n=x.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),m.apply(o,n.concat([e,t]))}}function f(e){return function(t){return i(t,e)}}function u(e){return function(t){h[e]=t}}function l(e){if(r(g,e)){var t=g[e];delete g[e],b[e]=!0,p.apply(o,t)}if(!r(h,e)&&!r(b,e))throw new Error("No "+e);return h[e]}function s(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function c(e){return function(){return y&&y.config&&y.config[e]||{}}}var p,m,d,v,h={},g={},y={},b={},T=Object.prototype.hasOwnProperty,x=[].slice,j=/\.js$/;d=function(e,t){var n,o=s(e),r=o[0];return e=o[1],r&&(r=i(r,t),n=l(r)),r?e=n&&n.normalize?n.normalize(e,f(t)):i(e,t):(e=i(e,t),o=s(e),r=o[0],e=o[1],r&&(n=l(r))),{f:r?r+"!"+e:e,n:e,pr:r,p:n}},v={require:function(e){return a(e)},exports:function(e){var t=h[e];return"undefined"!=typeof t?t:h[e]={}},module:function(e){return{id:e,uri:"",exports:h[e],config:c(e)}}},p=function(e,t,n,i){var f,s,c,p,m,y,T=[],x=typeof n;if(i=i||e,"undefined"===x||"function"===x){for(t=!t.length&&n.length?["require","exports","module"]:t,m=0;m<t.length;m+=1)if(p=d(t[m],i),s=p.f,"require"===s)T[m]=v.require(e);else if("exports"===s)T[m]=v.exports(e),y=!0;else if("module"===s)f=T[m]=v.module(e);else if(r(h,s)||r(g,s)||r(b,s))T[m]=l(s);else{if(!p.p)throw new Error(e+" missing "+s);p.p.load(p.n,a(i,!0),u(s),{}),T[m]=h[s]}c=n?n.apply(h[e],T):void 0,e&&(f&&f.exports!==o&&f.exports!==h[e]?h[e]=f.exports:c===o&&y||(h[e]=c))}else e&&(h[e]=n)},e=t=m=function(e,t,n,r,i){if("string"==typeof e)return v[e]?v[e](t):l(d(e,t).f);if(!e.splice){if(y=e,y.deps&&m(y.deps,y.callback),!t)return;t.splice?(e=t,t=n,n=null):e=o}return t=t||function(){},"function"==typeof n&&(n=r,r=i),r?p(o,e,t,n):setTimeout(function(){p(o,e,t,n)},4),m},m.config=function(e){return m(e)},e._defined=h,n=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),r(h,e)||r(g,e)||(g[e]=[e,t,n])},n.amd={jQuery:!0}}(),n("almond",function(){}),function(e,t){"function"==typeof n&&n.amd?n("meTools.fn.variable",[],t):"object"==typeof exports?"object"==typeof module?module.exports=t():exports["meTools.fn.variable"]=t():(e.meTools=e.meTools||{},e.meTools.fn=e.meTools.fn||{},e.meTools.fn.variable=t())}(this,function(){function e(t,n){n="undefined"==typeof n||n;var o,r;if(Array.isArray(t)){o=[];for(var i in t)r=t[i],o.push(n&&"object"==typeof r?e(r):r)}else if(t&&"object"==typeof t&&"undefined"==typeof t.tagName&&t!==window&&t!==document){o={};for(var a in t)r=t[a],o[a]=n&&"object"==typeof r?e(r):r}else o=t;return o}function t(n,o){n=n||{},o=o||{};var r={};for(var i in n){var a=n[i];if(o.hasOwnProperty(i)){var f=o[i];Array.isArray(f)||"object"!=typeof f||"object"!=typeof a?r[i]=e(f):r[i]=t(a,f)}else r[i]=e(a)}for(var u in o)r.hasOwnProperty(u)||(r[u]=e(o[u]));return r}function n(e){for(var t in e)return!1;return!0}return{copyValues:e,mergeObjects:t,isEmptyObject:n}}),function(e,t){"function"==typeof n&&n.amd?n("meTools.fn.element",[],t):"object"==typeof exports?"object"==typeof module?module.exports=t():exports["meTools.fn.element"]=t():(e.meTools=e.meTools||{},e.meTools.fn=e.meTools.fn||{},e.meTools.fn.element=t())}(this,function(){function e(e){return"object"==typeof e&&"undefined"!=typeof e.tagName?e:"string"==typeof e?document.getElementById(e):null}function t(e,t){var n=e.getAttribute("id");if(!n){t=t||"id-";do{var o=new Date;n=t+Math.ceil(o.valueOf()%1e4*Math.random())}while(document.getElementById(n));e.setAttribute("id",n)}return n}function n(e,t,n,o){for(var r=!1,i=!1,a=!1,f=1;f<arguments.length;f++)switch(typeof arguments[f]){case"string":r=arguments[f];break;case"object":i=arguments[f];break;case"boolean":a=arguments[f]}t=r,n=i||document.body,o=a;var u=[],l=function(e){var r=e.parentElement;if(!t||r.matches(t)){if(o)return r;u.push(r)}return r===n?o?!1:u:l(r)};return l(e)}function o(e,t){for(var n=t.parentNode;null!==n;){if(n===e)return!0;n=n.parentNode}return!1}function r(e,t,n){n=Array.isArray(n)?n:[n];for(var o=e.getAttribute(t),r=o?o.split(" "):[],i=0;i<n.length;i++){var a=n[i];-1===r.indexOf(a)&&r.push(a)}e.setAttribute(t,r.join(" "))}function i(e,t,n){var o=e.getAttribute(t);if(o){var r="((^| )",i="(?= |$))";o=o.replace(new RegExp(Array.isArray(n)?r+n.join(i+"|"+r)+i:r+n+i,"g"),""),o?e.setAttribute(t,o):e.removeAttribute(t)}}return{getElementById:e,getId:t,getAncestors:n,isParent:o,addAttributeValues:r,removeAttributeValues:i}}),function(e,o){if("function"==typeof n&&n.amd)n("meTools.fn.event",["meTools.fn.variable"],o);else if("object"==typeof exports){var r=t("./variable");"object"==typeof module?module.exports=o(r):exports["meTools.fn.event"]=o(r)}else e.meTools=e.meTools||{},e.meTools.fn=e.meTools.fn||{},e.meTools.fn.event=o(e.meTools.fn.variable)}(this,function(e){function t(e,t,n,o,r){r=r||!1;var i=e.registeredEvents=e.registeredEvents||{},a=i[n]=i[n]||[],f=!1;for(var u in a){var l=a[u];if(l.tg===t){f=l;break}}f||(f={tg:t,fns:[]},a.push(f)),f.fns.push([o,r]),t.addEventListener(n,o,r)}function n(t,o,r,i,a){if(t.registeredEvents){var f=t.registeredEvents;if(r){if(f.hasOwnProperty(r)){var u=f[r];if(o){var l,s=!1;for(var c in u)if(l=u[c],l.tg===o){s=l.fns;break}if(s){for(var p=0;p<s.length;p++){var m=s[p];"undefined"!=typeof i&&i&&i!==m[0]||"undefined"!=typeof a&&a!==m[1]||(s.splice(p,1),o.removeEventListener(r,m[0],m[1]),p--)}s.length||u.splice(c,1),u.length||delete f[r]}}else for(var d=e.copyValues(u);d.length;){var v=d.shift();n(t,v.tg,r,i,a)}}}else for(r in f)n(t,o,r,i,a)}}function o(e,t,n,o){t=t||250,n="undefined"==typeof n?!0:n,o=o||this;var r,i=null;return function(){var a=+new Date,f=arguments;r&&r+t>a?n&&(clearTimeout(i),i=setTimeout(function(){r=a,e.apply(o,f)},t)):(r=a,clearTimeout(i),e.apply(o,f))}}function r(e,t,n,o){t=t||250,o=o||this;var r,i=null;return function(){var a=+new Date,f=arguments;n?(!r||a>r+t)&&e.apply(o,f):(clearTimeout(i),i=setTimeout(function(){e.apply(o,f)},t)),r=a}}return{registerEvent:t,unregisterEvent:n,throttle:o,debounce:r}}),function(e,o){if("function"==typeof n&&n.amd)n("meTools",["meTools.fn.variable","meTools.fn.element","meTools.fn.event"],o);else if("object"==typeof exports){var r=t("./fn/variable"),i=t("./fn/element"),a=t("./fn/event");"object"==typeof module?module.exports=o(r,i,a):exports.meTools=o(r,i,a)}else{var f=e.meTools;e.meTools=o(f.fn.variable,f.fn.element,f.fn.event);for(var u in f)e.meTools[u]=f[u]}}(this,function(e,t,n){var o={};for(var r in arguments)for(var i in arguments[r])o[i]=arguments[r][i];return o}),function(e,t){"function"==typeof n&&n.amd?n("meTrapFocus",["meTools"],t):"object"==typeof exports?module.exports=t(meTools):e.meTrapFocus=t(meTools)}(this,function(e){function t(t,r){var a=this,f=t&&e.getElementById(t);if(!f)throw new Error("meTrapFocus: Container element not found");n.call(a).options=e.mergeObjects(p,r),a.container=f,f.getAttribute("tabindex")||f.setAttribute("tabindex","-1"),e.registerEvent(a,f,"keydown",function(e){o.call(a,e)}),i.call(a)}function n(){var e=this;return e.options={},e.container=null,e.focusables=[],e}function o(e){if(!e.ctrlKey&&!e.altKey){var t=e.keyCode?e.keyCode:e.which;if(t==c){var n,o=this,r=o.options.taboutIndicator,i=o.focusables;e.shiftKey?(n=f.call(o,-1),(n[n[0].matches(r)?1:0]===e.target||i.indexOf(e.target)<i.indexOf(n[0])||e.target===o.container)&&(l.call(o,n),e.preventDefault())):(n=f.call(o,1),(n[n.length-(n[n.length-1].matches(r)?2:1)]===e.target||i.indexOf(e.target)>i.indexOf(n[n.length-1]))&&(u.call(o,n),e.preventDefault()))}}}function r(t){var n=e.getAncestors(t,"form",!0)||document,o=t.getAttribute("name");return[].slice.call(n.querySelectorAll('input[type="radio"][name="'+o+'"]'))}function i(){var t=this,n=t.options,o=function(e){s.call(t,e)};t.focusables=a(t.container.querySelectorAll(n.focusableSelector));for(var r=0;r<t.focusables.length;r++){var i=t.focusables[r];i.matches(n.taboutIndicator)&&(e.unregisterEvent(t,i,"focus"),e.registerEvent(t,i,"focus",o))}return t}function a(e){for(var t=[],n=[],o=0;o<e.length;o++){var r=e[o],i=Math.max(0,r.getAttribute("tabindex")||0);t[i]=t[i]||[],t[i].push(r)}for(var a in t)for(var f in t[a])n.push(t[a][f]);return n}function f(e){e="undefined"==typeof e?1:e;for(var t=this,n=t.focusables,o=[],i=[],a=0;a<n.length;a++){var f=n[a],u=null;f.getAttribute("tabindex")||0;if(f.matches(":not([disabled])")&&f.matches(':not([tabindex="-1"])')&&(f.offsetWidth||f.offsetHeight))if(f.matches('input[type="radio"]')){if(-1===i.indexOf(f)){var l=r.call(t,f),s=null;i=i.concat(l);for(var c=0;c<l.length;c++){var p=l[c];if(p.checked){s=p;break}}s||(s=-1===e?l[l.length-1]:l[0]),u=s}}else u=f;u&&o.push(u)}return o}function u(e){var t=this,n=t.options.taboutIndicator,o=e[0];o.matches(n)&&(o=e[1]),o.matches("iframe")?setTimeout(function(){o.contentWindow.focus()},100):o.focus()}function l(e){var t=this,n=t.options.taboutIndicator,o=e[e.length-1];o.matches(n)&&(o=e[e.length-2]),o.matches("iframe")?setTimeout(function(){o.contentWindow.focus()},100):o.focus()}function s(e){var t=this,n=e.target,o=f.call(t,1),r=f.call(t,-1);n==r[0]?l.call(t,r):n==o[o.length-1]&&u.call(t,o)}var c=9,p={focusableSelector:"a,frame,iframe,input:not([type=hidden]),select,textarea,button,*[tabindex]",taboutIndicator:".me-tabout"};return t.prototype.update=function(){return i.call(this)},t.prototype.getFocusables=function(){return e.copyValues(this.focusables,!1)},t.prototype.getTabable=function(t){return e.copyValues(t?f.call(this,-1):f.call(this,1),!1)},t.prototype.destroy=function(){var t=this;return n.call(t),e.unregisterEvent(t),null},t}),function(e){e.matches=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector||function(e){var t=this,n=[].slice.call(document.querySelectorAll(e));return-1!==n.indexOf(t)}}(Element.prototype),n("matchesPolyfill",function(e){return function(){var t;return t||e.matchesPolyfill}}(this)),t("meTrapFocus")});
//# sourceMappingURL=me-trap-focus.bundle.min.js.map
/**
 * @license me-trap-focus 2.0.0 Copyright (c) Mandana Eibegger <scripts@schoener.at>
 * Available via the MIT license.
 * see: https://github.com/meibegger/me-trap-focus for details
 */
