!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.meTrapFocus=t()}(this,function(){var e,t,n;return function(r){function o(e,t){return x.call(e,t)}function i(e,t){var n,r,o,i,a,u,f,c,s,l,p,d=t&&t.split("/"),h=y.map,m=h&&h["*"]||{};if(e&&"."===e.charAt(0))if(t){for(e=e.split("/"),a=e.length-1,y.nodeIdCompat&&w.test(e[a])&&(e[a]=e[a].replace(w,"")),e=d.slice(0,d.length-1).concat(e),s=0;s<e.length;s+=1)if(p=e[s],"."===p)e.splice(s,1),s-=1;else if(".."===p){if(1===s&&(".."===e[2]||".."===e[0]))break;s>0&&(e.splice(s-1,2),s-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((d||m)&&h){for(n=e.split("/"),s=n.length;s>0;s-=1){if(r=n.slice(0,s).join("/"),d)for(l=d.length;l>0;l-=1)if(o=h[d.slice(0,l).join("/")],o&&(o=o[r])){i=o,u=s;break}if(i)break;!f&&m&&m[r]&&(f=m[r],c=s)}!i&&f&&(i=f,u=c),i&&(n.splice(0,u,i),e=n.join("/"))}return e}function a(e,t){return function(){var n=E.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),d.apply(r,n.concat([e,t]))}}function u(e){return function(t){return i(t,e)}}function f(e){return function(t){g[e]=t}}function c(e){if(o(v,e)){var t=v[e];delete v[e],b[e]=!0,p.apply(r,t)}if(!o(g,e)&&!o(b,e))throw new Error("No "+e);return g[e]}function s(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function l(e){return function(){return y&&y.config&&y.config[e]||{}}}var p,d,h,m,g={},v={},y={},b={},x=Object.prototype.hasOwnProperty,E=[].slice,w=/\.js$/;h=function(e,t){var n,r=s(e),o=r[0];return e=r[1],o&&(o=i(o,t),n=c(o)),o?e=n&&n.normalize?n.normalize(e,u(t)):i(e,t):(e=i(e,t),r=s(e),o=r[0],e=r[1],o&&(n=c(o))),{f:o?o+"!"+e:e,n:e,pr:o,p:n}},m={require:function(e){return a(e)},exports:function(e){var t=g[e];return"undefined"!=typeof t?t:g[e]={}},module:function(e){return{id:e,uri:"",exports:g[e],config:l(e)}}},p=function(e,t,n,i){var u,s,l,p,d,y,x=[],E=typeof n;if(i=i||e,"undefined"===E||"function"===E){for(t=!t.length&&n.length?["require","exports","module"]:t,d=0;d<t.length;d+=1)if(p=h(t[d],i),s=p.f,"require"===s)x[d]=m.require(e);else if("exports"===s)x[d]=m.exports(e),y=!0;else if("module"===s)u=x[d]=m.module(e);else if(o(g,s)||o(v,s)||o(b,s))x[d]=c(s);else{if(!p.p)throw new Error(e+" missing "+s);p.p.load(p.n,a(i,!0),f(s),{}),x[d]=g[s]}l=n?n.apply(g[e],x):void 0,e&&(u&&u.exports!==r&&u.exports!==g[e]?g[e]=u.exports:l===r&&y||(g[e]=l))}else e&&(g[e]=n)},e=t=d=function(e,t,n,o,i){if("string"==typeof e)return m[e]?m[e](t):c(h(e,t).f);if(!e.splice){if(y=e,y.deps&&d(y.deps,y.callback),!t)return;t.splice?(e=t,t=n,n=null):e=r}return t=t||function(){},"function"==typeof n&&(n=o,o=i),o?p(r,e,t,n):setTimeout(function(){p(r,e,t,n)},4),d},d.config=function(e){return d(e)},e._defined=g,n=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),o(g,e)||o(v,e)||(v[e]=[e,t,n])},n.amd={jQuery:!0}}(),n("almond",function(){}),n("variable",[],function(){function e(t,n){n="undefined"==typeof n||n;var r,o;if(Array.isArray(t)){r=[];for(var i in t)o=t[i],r.push(n&&"object"==typeof o?e(o):o)}else if(t&&"object"==typeof t&&"undefined"==typeof t.tagName){r={};for(var a in t)o=t[a],r[a]=n&&"object"==typeof o?e(o):o}else r=t;return r}function t(t,n){t=t||{},n=n||{};var r={};for(var o in t){var i=t[o];if(n.hasOwnProperty(o)){var a=n[o];Array.isArray(a)||"object"!=typeof a||"object"!=typeof i?r[o]=e(a):r[o]=mergeobject(i,a)}else r[o]=e(i)}for(var u in n)r.hasOwnProperty(u)||(r[u]=e(n[u]));return r}function n(e){for(var t in e)return!1;return!0}return{copyValues:e,mergeObjects:t,isEmptyObject:n}}),n("element",[],function(){function e(e){return"object"==typeof e&&"undefined"!=typeof e.tagName?e:"string"==typeof e?document.getElementById(e):null}function t(e,t){var n=e.getAttribute("id");if(!n){t=t||"id-";do{var r=new Date;n=t+Math.ceil(r.valueOf()%1e4*Math.random())}while(document.getElementById(n));e.setAttribute("id",n)}return n}function n(e,t,n,r){for(var o=!1,i=!1,a=!1,u=0;u<arguments.length;u++)switch(typeof arguments[u]){case"string":o=arguments[u];break;case"object":i=arguments[u];break;case"boolean":a=arguments[u]}t=o,n=i||document.body,r=a;var f=[],c=function(e){var o=e.parentElement;if(!t||o.matches(t)){if(r)return o;f.push(o)}return o===n?r?!1:f:void c(o)};return c(e)}function r(e,t){for(var n=t.parentNode;null!==n;){if(n===e)return!0;n=n.parentNode}return!1}return{getElementById:e,getId:t,getAncestors:n,isParent:r}}),n("event",["./variable"],function(e){function t(e,t,n,r,o){o=o||!1;var i=e.registeredEvents=e.registeredEvents||{},a=i[n]=i[n]||[],u=!1;for(var f in a){var c=a[f];if(c.tg===t){u=c;break}}u||(u={tg:t,fns:[]},a.push(u)),u.fns.push([r,o]),t.addEventListener(n,r,o)}function n(t,r,o,i,a){if(t.registeredEvents){var u=t.registeredEvents;if(o){if(u.hasOwnProperty(o)){var f=u[o];if(r){var c,s=!1;for(var l in f)if(c=f[l],c.tg===r){s=c.fns;break}if(s){for(var p=0;p<s.length;p++){var d=s[p];"undefined"!=typeof i&&i&&i!==d[0]||"undefined"!=typeof a&&a!==d[1]||(s.splice(p,1),r.removeEventListener(o,d[0],d[1]),p--)}s.length||f.splice(l,1),f.length||delete u[o]}}else for(var h=e.copyValues(f);h.length;){var m=h.shift();n(t,m.tg,o,i,a)}}}else for(o in u)n(t,r,o,i,a)}}function r(e,t,n,r){t=t||250,n="undefined"==typeof n?!0:n,r=r||this;var o,i=null;return function(){var a=+new Date,u=arguments;o&&o+t>a?n&&(clearTimeout(i),i=setTimeout(function(){o=a,e.apply(r,u)},t)):(o=a,clearTimeout(i),e.apply(r,u))}}function o(e,t,n,r){t=t||250,r=r||this;var o,i=null;return function(){var a=+new Date,u=arguments;n?(!o||a>o+t)&&e.apply(r,u):(clearTimeout(i),i=setTimeout(function(){e.apply(r,u)},t)),o=a}}return{registerEvent:t,unregisterEvent:n,throttle:r,debounce:o}}),n("meTools",["variable","element","event"],function(e,t,n){"use strict";var r={};for(var o in arguments)for(var i in arguments[o])r[i]=arguments[o][i];return r}),function(e,t){"function"==typeof n&&n.amd?n("meTrapFocus",["meTools"],t):"object"==typeof exports?module.exports=t(meTools):e.meTrapFocus=t(meTools)}(this,function(e){function t(t,o){var a=this,u=t&&e.getElementById(t);if(!u)throw new Error("meTrapFocus: Container element not found");n.call(a).options=e.mergeObjects(p,o),a.container=u,u.getAttribute("tabindex")||u.setAttribute("tabindex","-1"),e.registerEvent(a,u,"keydown",function(e){r.call(a,e)}),i.call(a)}function n(){var e=this;return e.options={},e.container=null,e.focusables=[],e}function r(e){if(!e.ctrlKey&&!e.altKey){var t=e.keyCode?e.keyCode:e.which;if(t==l){var n,r=this,o=r.options.taboutIndicator,i=r.focusables;e.shiftKey?(n=u.call(r,-1),(n[n[0].matches(o)?1:0]===e.target||i.indexOf(e.target)<i.indexOf(n[0])||e.target===r.container)&&(c.call(r,n),e.preventDefault(),e.stopPropagation())):(n=u.call(r,1),(n[n.length-(n[n.length-1].matches(o)?2:1)]===e.target||i.indexOf(e.target)>i.indexOf(n[n.length-1]))&&(f.call(r,n),e.preventDefault(),e.stopPropagation()))}}}function o(t){var n=e.getAncestors(t,"form",!0)||document,r=t.getAttribute("name");return[].slice.call(n.querySelectorAll('input[type="radio"][name="'+r+'"]'))}function i(){var t=this,n=t.options,r=function(e){s.call(t,e)};t.focusables=a(t.container.querySelectorAll(n.focusableSelector));for(var o=0;o<t.focusables.length;o++){var i=t.focusables[o];i.matches(n.taboutIndicator)&&(e.unregisterEvent(t,i,"focus"),e.registerEvent(t,i,"focus",r))}return t}function a(e){for(var t=[],n=[],r=0;r<e.length;r++){var o=e[r],i=Math.max(0,o.getAttribute("tabindex")||0);t[i]=t[i]||[],t[i].push(o)}for(var a in t)for(var u in t[a])n.push(t[a][u]);return n}function u(e){e="undefined"==typeof e?1:e;for(var t=this,n=t.focusables,r=[],i=[],a=0;a<n.length;a++){var u=n[a],f=null;u.getAttribute("tabindex")||0;if(u.matches(":not([disabled])")&&u.matches(':not([tabindex="-1"])')&&(u.offsetWidth||u.offsetHeight))if(u.matches('input[type="radio"]')){if(-1===i.indexOf(u)){var c=o.call(t,u),s=null;i=i.concat(c);for(var l=0;l<c.length;l++){var p=c[l];if(p.checked){s=p;break}}s||(s=-1===e?c[c.length-1]:c[0]),f=s}}else f=u;f&&r.push(f)}return r}function f(e){var t=this,n=t.options.taboutIndicator,r=e[0];r.matches(n)&&(r=e[1]),r.matches("iframe")?setTimeout(function(){r.contentWindow.focus()},100):r.focus()}function c(e){var t=this,n=t.options.taboutIndicator,r=e[e.length-1];r.matches(n)&&(r=e[e.length-2]),r.matches("iframe")?setTimeout(function(){r.contentWindow.focus()},100):r.focus()}function s(e){var t=this,n=e.target,r=u.call(t,1),o=u.call(t,-1);n==o[0]?c.call(t,o):n==r[r.length-1]&&f.call(t,r)}var l=9,p={focusableSelector:"a,frame,iframe,input:not([type=hidden]),select,textarea,button,*[tabindex]",taboutIndicator:".me-tabout"};return t.prototype.update=function(){return i.call(this)},t.prototype.getFocusables=function(){return e.copyValues(this.focusables,!1)},t.prototype.getTabable=function(t){return e.copyValues(t?u.call(this,-1):u.call(this,1),!1)},t.prototype.destroy=function(){var t=this;return n.call(t),e.unregisterEvent(t),null},t}),function(e){e.matches=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector||function(e){var t=this,n=[].slice.call(document.querySelectorAll(e));return-1!==n.indexOf(t)}}(Element.prototype),n("matchesPolyfill",function(e){return function(){var t;return t||e.matchesPolyfill}}(this)),t("meTrapFocus")});
//# sourceMappingURL=me-trap-focus.bundle.min.js.map
/**
 * @license me-trap-focus 1.0.0 Copyright (c) Mandana Eibegger <scripts@schoener.at>
 * Available via the MIT license.
 * see: https://github.com/meibegger/me-trap-focus for details
 */
